# JAC IRC Proxy Configuration
# Copy this to .env and configure

# ===========================================
# DOMAIN & SSL (for Let's Encrypt)
# ===========================================

DOMAIN=irc.yourdomain.com
ACME_EMAIL=admin@yourdomain.com

# ===========================================
# ADMIN API
# ===========================================

# Generate: openssl rand -hex 32
ADMIN_TOKEN=your-secure-token-here
ADMIN_PORT=6680

# ===========================================
# PROXY SETTINGS
# ===========================================

HOST=0.0.0.0
PORT=6667

SSL_ENABLED=true
SSL_PORT=6697

LOG_LEVEL=info
DATA_DIR=/data

# ===========================================
# RATE LIMITING
# ===========================================

RATE_CONN_PER_MIN=5
RATE_MSG_PER_SEC=10
RATE_MSG_BURST=20
RATE_AUTO_BAN=3
RATE_BAN_DURATION=60

# ===========================================
# GEOIP BLOCKING
# ===========================================

# Enable geographic IP blocking
GEOIP_ENABLED=false

# Mode: 'block' = block listed countries, 'allow' = only allow listed countries
GEOIP_MODE=block

# Comma-separated ISO country codes (e.g., CN,RU,KP,IR)
# Common codes: US, GB, CA, AU, DE, FR, JP, CN, RU, BR, IN
GEOIP_COUNTRIES=

# Cache TTL in minutes (reduces API calls)
GEOIP_CACHE_TTL=60

# Allow connections if GeoIP lookup fails (true = fail-open, false = fail-closed)
GEOIP_FAIL_OPEN=true

# ===========================================
# ADVANCED
# ===========================================

# Custom WebSocket gateway
# WS_URL=wss://hliytlezggzryetekpvo.supabase.co/functions/v1/irc-gateway
